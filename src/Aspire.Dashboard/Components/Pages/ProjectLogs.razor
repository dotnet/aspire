@page "/ProjectLogs/{projectname?}"
@using Aspire.Dashboard.Model;
@inherits ResourceLogsBase<ProjectViewModel>

@{
    base.BuildRenderTree(__builder);
}

@code {
    [Parameter]
    public string? ProjectName { get; set; }

    protected override string? ResourceName => ProjectName;
    protected override string ResourceType => "Project";
    protected override string LoadingResourcesMessage => LogStatus.LoadingProjects;
    protected override string NoResourceSelectedMessage => LogStatus.NoProjectSelected;
    protected override string LogsNotAvailableMessage => LogStatus.LogsNotYetAvailable;
    protected override string UrlPrefix => "/ProjectLogs";
    protected override string SelectResourceTitle => "Select a Project";

    protected override Task<List<ProjectViewModel>> GetResources(IDashboardViewModelService dashboardViewModelService)
        => dashboardViewModelService.GetProjectsAsync();

    protected override IAsyncEnumerable<ResourceChanged<ProjectViewModel>> WatchResources(IDashboardViewModelService dashboardViewModelService, IEnumerable<NamespacedName>? initialList, CancellationToken cancellationToken)
        => dashboardViewModelService.WatchProjectsAsync(initialList, cancellationToken);
}
