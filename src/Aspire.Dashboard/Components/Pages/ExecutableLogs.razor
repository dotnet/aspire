@page "/ExecutableLogs/{executablename?}"
@using Aspire.Dashboard.Model;
@inherits ResourceLogsBase<ExecutableViewModel>

@{
    base.BuildRenderTree(__builder);
}

@code {
    [Parameter]
    public string? ExecutableName { get; set; }

    protected override string? ResourceName => ExecutableName;
    protected override string ResourceType => "Executable";
    protected override string LoadingResourcesMessage => LogStatus.LoadingExecutables;
    protected override string NoResourceSelectedMessage => LogStatus.NoExecutableSelected;
    protected override string LogsNotAvailableMessage => LogStatus.LogsNotYetAvailable;
    protected override string UrlPrefix => "/ExecutableLogs";

    protected override Task<List<ExecutableViewModel>> GetResources(IDashboardViewModelService dashboardViewModelService)
        => dashboardViewModelService.GetExecutablesAsync();

    protected override IAsyncEnumerable<ResourceChanged<ExecutableViewModel>> WatchResources(IDashboardViewModelService dashboardViewModelService, IEnumerable<NamespacedName>? initialList, CancellationToken cancellationToken)
        => dashboardViewModelService.WatchExecutablesAsync(initialList, cancellationToken);
}
