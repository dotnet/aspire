<Project>
  <PropertyGroup>
    <AspireHostingSDKVersion>@VERSION@</AspireHostingSDKVersion>
    <!-- Do not import the workload targets as this project is instead using the Aspire.AppHost.Sdk -->
    <SkipAspireWorkloadManifest>true</SkipAspireWorkloadManifest>
    <IsAspireHost>true</IsAspireHost>
    <!-- Auto-import the Microsoft.NET.Sdk if not already imported -->
    <_ImportMicrosoftNETSdkFromAspireSdk Condition=" '$(UsingMicrosoftNETSdk)' == '' ">true</_ImportMicrosoftNETSdkFromAspireSdk>
  </PropertyGroup>

  <PropertyGroup Condition=" '$(FileBasedProgram)' == 'true' ">
    <!-- Disable AOT and Trimming for file-based apps -->
    <PublishAot>false</PublishAot>
  </PropertyGroup>

  <PropertyGroup>
    <!-- Allow users to disable the automatic treatment of ProjectReference items as Aspire resources.
         This defaults to true for backward compatibility but can be set to false to disable the behavior.
         This is particularly useful in file-based apps where metadata cannot be set on individual ProjectReference items. -->
    <TreatProjectReferencesAsResources Condition="'$(TreatProjectReferencesAsResources)' == ''">true</TreatProjectReferencesAsResources>
  </PropertyGroup>

  <Import Project="Sdk.props" Sdk="Microsoft.NET.Sdk" Condition=" '$(_ImportMicrosoftNETSdkFromAspireSdk)' == 'true' " />
</Project>
