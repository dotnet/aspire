<Project>
  <PropertyGroup>
    <SharedFxPolyfillsDir>$(MSBuildThisFileDirectory)</SharedFxPolyfillsDir>
  </PropertyGroup>

  <ItemGroup>
    <Reference Condition=" '$(TargetFramework)' != 'netstandard2.0' " Include="System.Net.Http" />

    <Using Include="System.Net.Http" />
    <Using Include="System.Threading.Tasks" />
  </ItemGroup>

  <ItemGroup>
    <ExcludedFrameworkPolyfills
      Condition="'@(PackageReference->WithMetadataValue('Identity', 'Microsoft.Bcl.TimeProvider'))' == ''"
      Include="$(SharedFxPolyfillsDir)Task.TimeProvider.cs" />

    <Compile Include="$(SharedFxPolyfillsDir)*.cs" 
             Exclude="@(ExcludedFrameworkPolyfills)" 
             Link="FxPolyfills/%(Filename).cs" />
  </ItemGroup>

</Project>
