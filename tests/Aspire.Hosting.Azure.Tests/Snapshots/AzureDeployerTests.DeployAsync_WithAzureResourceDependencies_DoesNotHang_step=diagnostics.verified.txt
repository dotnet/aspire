[  
PIPELINE DEPENDENCY GRAPH DIAGNOSTICS
=====================================

This diagnostic output shows the complete pipeline dependency graph structure.
Use this to understand step relationships and troubleshoot execution issues.

Total steps defined: 23

Analysis for full pipeline execution (showing all steps and their relationships)

EXECUTION ORDER
===============
This shows the order in which steps would execute, respecting all dependencies.
Steps with no dependencies run first, followed by steps that depend on them.

  1. build-prereq
  2. deploy-prereq
  3. build-api
  4. build
  5. validate-azure-login
  6. create-provisioning-context
  7. provision-api-identity
  8. provision-kv
  9. provision-api-roles-kv
 10. provision-env
 11. login-to-acr-env
 12. push-api
 13. provision-api-website
 14. provision-azure-bicep-resources
 15. print-dashboard-url-env
 16. deploy
 17. print-api-summary
 18. deploy-api
 19. diagnostics
 20. publish-prereq
 21. publish-azure634f9
 22. publish
 23. publish-manifest

DETAILED STEP ANALYSIS
======================
Shows each step's dependencies, associated resources, and tags.
✓ = dependency exists, ? = dependency missing

Step: build
    Dependencies: ✓ build-api

Step: build-api
    Dependencies: ✓ build-prereq, ✓ deploy-prereq
    Resource: api (ProjectResource)
    Tags: build-compute

Step: build-prereq
    Dependencies: none

Step: create-provisioning-context
    Dependencies: ✓ deploy-prereq, ✓ validate-azure-login
    Resource: azure634f9 (AzureEnvironmentResource)

Step: deploy
    Dependencies: ✓ build-api, ✓ create-provisioning-context, ✓ print-dashboard-url-env, ✓ provision-azure-bicep-resources, ✓ validate-azure-login

Step: deploy-api
    Dependencies: ✓ print-api-summary
    Resource: api-website (AzureAppServiceWebSiteResource)
    Tags: deploy-compute

Step: deploy-prereq
    Dependencies: none

Step: diagnostics
    Dependencies: none

Step: login-to-acr-env
    Dependencies: ✓ provision-env
    Resource: env (AzureAppServiceEnvironmentResource)
    Tags: acr-login

Step: print-api-summary
    Dependencies: ✓ provision-api-website
    Resource: api-website (AzureAppServiceWebSiteResource)
    Tags: print-summary

Step: print-dashboard-url-env
    Dependencies: ✓ provision-azure-bicep-resources, ✓ provision-env
    Resource: env (AzureAppServiceEnvironmentResource)
    Tags: print-summary

Step: provision-api-identity
    Dependencies: ✓ create-provisioning-context
    Resource: api-identity (AzureUserAssignedIdentityResource)
    Tags: provision-infra

Step: provision-api-roles-kv
    Dependencies: ✓ create-provisioning-context, ✓ provision-api-identity, ✓ provision-kv
    Resource: api-roles-kv (AzureProvisioningResource)
    Tags: provision-infra

Step: provision-api-website
    Dependencies: ✓ create-provisioning-context, ✓ provision-api-identity, ✓ provision-env, ✓ provision-kv, ✓ push-api
    Resource: api-website (AzureAppServiceWebSiteResource)
    Tags: provision-infra

Step: provision-azure-bicep-resources
    Dependencies: ✓ create-provisioning-context, ✓ deploy-prereq, ✓ provision-api-identity, ✓ provision-api-roles-kv, ✓ provision-api-website, ✓ provision-env, ✓ provision-kv
    Resource: azure634f9 (AzureEnvironmentResource)
    Tags: provision-infra

Step: provision-env
    Dependencies: ✓ create-provisioning-context
    Resource: env (AzureAppServiceEnvironmentResource)
    Tags: provision-infra

Step: provision-kv
    Dependencies: ✓ create-provisioning-context
    Resource: kv (AzureKeyVaultResource)
    Tags: provision-infra

Step: publish
    Dependencies: ✓ publish-azure634f9

Step: publish-azure634f9
    Dependencies: ✓ publish-prereq
    Resource: azure634f9 (AzureEnvironmentResource)

Step: publish-manifest
    Dependencies: none

Step: publish-prereq
    Dependencies: none

Step: push-api
    Dependencies: ✓ build-api, ✓ login-to-acr-env, ✓ provision-env
    Resource: api-website (AzureAppServiceWebSiteResource)
    Tags: push-container-image

Step: validate-azure-login
    Dependencies: ✓ deploy-prereq
    Resource: azure634f9 (AzureEnvironmentResource)

POTENTIAL ISSUES:
Identifies problems in the pipeline configuration that could prevent execution.
─────────────────
INFO: Orphaned steps (no dependencies, not required by others):
   - diagnostics
   - publish-manifest

EXECUTION SIMULATION ("What If" Analysis):
Shows what steps would run for each possible target step and in what order.
Steps at the same level can run concurrently.
─────────────────────────────────────────────────────────────────────────────
If targeting 'build':
  Direct dependencies: build-api
  Total steps: 4
  Execution order:
    [0] build-prereq | deploy-prereq (parallel)
    [1] build-api
    [2] build

If targeting 'build-api':
  Direct dependencies: build-prereq, deploy-prereq
  Total steps: 3
  Execution order:
    [0] build-prereq | deploy-prereq (parallel)
    [1] build-api

If targeting 'build-prereq':
  Direct dependencies: none
  Total steps: 1
  Execution order:
    [0] build-prereq

If targeting 'create-provisioning-context':
  Direct dependencies: deploy-prereq, validate-azure-login
  Total steps: 3
  Execution order:
    [0] deploy-prereq
    [1] validate-azure-login
    [2] create-provisioning-context

If targeting 'deploy':
  Direct dependencies: build-api, create-provisioning-context, print-dashboard-url-env, provision-azure-bicep-resources, validate-azure-login
  Total steps: 15
  Execution order:
    [0] build-prereq | deploy-prereq (parallel)
    [1] build-api | validate-azure-login (parallel)
    [2] create-provisioning-context
    [3] provision-api-identity | provision-env | provision-kv (parallel)
    [4] login-to-acr-env | provision-api-roles-kv (parallel)
    [5] push-api
    [6] provision-api-website
    [7] provision-azure-bicep-resources
    [8] print-dashboard-url-env
    [9] deploy

If targeting 'deploy-api':
  Direct dependencies: print-api-summary
  Total steps: 13
  Execution order:
    [0] build-prereq | deploy-prereq (parallel)
    [1] build-api | validate-azure-login (parallel)
    [2] create-provisioning-context
    [3] provision-api-identity | provision-env | provision-kv (parallel)
    [4] login-to-acr-env
    [5] push-api
    [6] provision-api-website
    [7] print-api-summary
    [8] deploy-api

If targeting 'deploy-prereq':
  Direct dependencies: none
  Total steps: 1
  Execution order:
    [0] deploy-prereq

If targeting 'diagnostics':
  Direct dependencies: none
  Total steps: 1
  Execution order:
    [0] diagnostics

If targeting 'login-to-acr-env':
  Direct dependencies: provision-env
  Total steps: 5
  Execution order:
    [0] deploy-prereq
    [1] validate-azure-login
    [2] create-provisioning-context
    [3] provision-env
    [4] login-to-acr-env

If targeting 'print-api-summary':
  Direct dependencies: provision-api-website
  Total steps: 12
  Execution order:
    [0] build-prereq | deploy-prereq (parallel)
    [1] build-api | validate-azure-login (parallel)
    [2] create-provisioning-context
    [3] provision-api-identity | provision-env | provision-kv (parallel)
    [4] login-to-acr-env
    [5] push-api
    [6] provision-api-website
    [7] print-api-summary

If targeting 'print-dashboard-url-env':
  Direct dependencies: provision-azure-bicep-resources, provision-env
  Total steps: 14
  Execution order:
    [0] build-prereq | deploy-prereq (parallel)
    [1] build-api | validate-azure-login (parallel)
    [2] create-provisioning-context
    [3] provision-api-identity | provision-env | provision-kv (parallel)
    [4] login-to-acr-env | provision-api-roles-kv (parallel)
    [5] push-api
    [6] provision-api-website
    [7] provision-azure-bicep-resources
    [8] print-dashboard-url-env

If targeting 'provision-api-identity':
  Direct dependencies: create-provisioning-context
  Total steps: 4
  Execution order:
    [0] deploy-prereq
    [1] validate-azure-login
    [2] create-provisioning-context
    [3] provision-api-identity

If targeting 'provision-api-roles-kv':
  Direct dependencies: create-provisioning-context, provision-api-identity, provision-kv
  Total steps: 6
  Execution order:
    [0] deploy-prereq
    [1] validate-azure-login
    [2] create-provisioning-context
    [3] provision-api-identity | provision-kv (parallel)
    [4] provision-api-roles-kv

If targeting 'provision-api-website':
  Direct dependencies: create-provisioning-context, provision-api-identity, provision-env, provision-kv, push-api
  Total steps: 11
  Execution order:
    [0] build-prereq | deploy-prereq (parallel)
    [1] build-api | validate-azure-login (parallel)
    [2] create-provisioning-context
    [3] provision-api-identity | provision-env | provision-kv (parallel)
    [4] login-to-acr-env
    [5] push-api
    [6] provision-api-website

If targeting 'provision-azure-bicep-resources':
  Direct dependencies: create-provisioning-context, deploy-prereq, provision-api-identity, provision-api-roles-kv, provision-api-website, provision-env, provision-kv
  Total steps: 13
  Execution order:
    [0] build-prereq | deploy-prereq (parallel)
    [1] build-api | validate-azure-login (parallel)
    [2] create-provisioning-context
    [3] provision-api-identity | provision-env | provision-kv (parallel)
    [4] login-to-acr-env | provision-api-roles-kv (parallel)
    [5] push-api
    [6] provision-api-website
    [7] provision-azure-bicep-resources

If targeting 'provision-env':
  Direct dependencies: create-provisioning-context
  Total steps: 4
  Execution order:
    [0] deploy-prereq
    [1] validate-azure-login
    [2] create-provisioning-context
    [3] provision-env

If targeting 'provision-kv':
  Direct dependencies: create-provisioning-context
  Total steps: 4
  Execution order:
    [0] deploy-prereq
    [1] validate-azure-login
    [2] create-provisioning-context
    [3] provision-kv

If targeting 'publish':
  Direct dependencies: publish-azure634f9
  Total steps: 3
  Execution order:
    [0] publish-prereq
    [1] publish-azure634f9
    [2] publish

If targeting 'publish-azure634f9':
  Direct dependencies: publish-prereq
  Total steps: 2
  Execution order:
    [0] publish-prereq
    [1] publish-azure634f9

If targeting 'publish-manifest':
  Direct dependencies: none
  Total steps: 1
  Execution order:
    [0] publish-manifest

If targeting 'publish-prereq':
  Direct dependencies: none
  Total steps: 1
  Execution order:
    [0] publish-prereq

If targeting 'push-api':
  Direct dependencies: build-api, login-to-acr-env, provision-env
  Total steps: 8
  Execution order:
    [0] build-prereq | deploy-prereq (parallel)
    [1] build-api | validate-azure-login (parallel)
    [2] create-provisioning-context
    [3] provision-env
    [4] login-to-acr-env
    [5] push-api

If targeting 'validate-azure-login':
  Direct dependencies: deploy-prereq
  Total steps: 2
  Execution order:
    [0] deploy-prereq
    [1] validate-azure-login


]
